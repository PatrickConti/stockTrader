{
   "$schema":"http:\/\/json-schema.org\/draft-04\/schema#",
   "description":"Request schema for the ISTPOMA JSON interface",
   "type":"object",
   "properties":{
      "ISTPOMAOperation":{
         "type":"object",
         "properties":{
            "ist_portfolio_manager":{
               "type":"object",
               "properties":{
                  "action":{
                     "type":"string",
                     "maxLength":2
                  },
                  "debugTran":{
                     "type":"string",
                     "maxLength":1
                  },
                  "portfolioInfo":{
                     "type":"object",
                     "properties":{
                        "owner":{
                           "type":"string",
                           "maxLength":32
                        },
                        "total":{
                           "type":"number",
                           "format":"decimal",
                           "multipleOf":0.01,
                           "maximum":99999999999.99,
                           "minimum":-99999999999.99
                        },
                        "loyalty":{
                           "type":"string",
                           "maxLength":8
                        }
                     },
                     "required":[
                        "owner",
                        "total",
                        "loyalty"
                     ]
                  },
                  "stockUpdate":{
                     "type":"object",
                     "properties":{
                        "symbol":{
                           "type":"string",
                           "maxLength":8
                        },
                        "shares":{
                           "type":"integer",
                           "maximum":2147483647,
                           "minimum":-2147483648
                        },
                        "price":{
                           "type":"number",
                           "format":"decimal",
                           "multipleOf":0.01,
                           "maximum":999999999.99,
                           "minimum":-999999999.99
                        },
                        "total":{
                           "type":"number",
                           "format":"decimal",
                           "multipleOf":0.01,
                           "maximum":99999999999.99,
                           "minimum":-99999999999.99
                        },
                        "dateQuoted":{
                           "type":"string",
                           "maxLength":10
                        }
                     },
                     "required":[
                        "symbol",
                        "shares",
                        "price",
                        "total",
                        "dateQuoted"
                     ]
                  },
                  "eyeCatch1":{
                     "type":"string",
                     "maxLength":3
                  },
                  "stockInfo":{
                     "type":"array",
                     "maxItems":32,
                     "minItems":32,
                     "items":{
                        "type":"object",
                        "properties":{
                           "symbol":{
                              "type":"string",
                              "maxLength":8
                           },
                           "shares":{
                              "type":"integer",
                              "maximum":2147483647,
                              "minimum":-2147483648
                           },
                           "price":{
                              "type":"number",
                              "format":"decimal",
                              "multipleOf":0.01,
                              "maximum":999999999.99,
                              "minimum":-999999999.99
                           },
                           "total":{
                              "type":"number",
                              "format":"decimal",
                              "multipleOf":0.01,
                              "maximum":99999999999.99,
                              "minimum":-99999999999.99
                           },
                           "dateQuoted":{
                              "type":"string",
                              "maxLength":10
                           }
                        },
                        "required":[
                           "symbol",
                           "shares",
                           "price",
                           "total",
                           "dateQuoted"
                        ]
                     }
                  },
                  "eyeCatch2":{
                     "type":"string",
                     "maxLength":3
                  },
                  "portfolioOutput":{
                     "type":"array",
                     "maxItems":32,
                     "minItems":32,
                     "items":{
                        "type":"object",
                        "properties":{
                           "owner":{
                              "type":"string",
                              "maxLength":32
                           },
                           "total":{
                              "type":"number",
                              "format":"decimal",
                              "multipleOf":0.01,
                              "maximum":99999999999.99,
                              "minimum":-99999999999.99
                           },
                           "loyalty":{
                              "type":"string",
                              "maxLength":8
                           }
                        },
                        "required":[
                           "owner",
                           "total",
                           "loyalty"
                        ]
                     }
                  },
                  "eyeCatch3":{
                     "type":"string",
                     "maxLength":3
                  },
                  "oldLoyalty":{
                     "type":"string",
                     "maxLength":8
                  },
                  "istreturnmsg":{
                     "type":"string",
                     "maxLength":45
                  },
                  "ist_flags":{
                     "type":"string",
                     "maxLength":1
                  }
               },
               "required":[
                  "action",
                  "debugTran",
                  "portfolioInfo",
                  "stockUpdate",
                  "eyeCatch1",
                  "stockInfo",
                  "eyeCatch2",
                  "portfolioOutput",
                  "eyeCatch3",
                  "oldLoyalty",
                  "istreturnmsg",
                  "ist_flags"
               ]
            }
         },
         "required":[
            "ist_portfolio_manager"
         ]
      }
   },
   "required":[
      "ISTPOMAOperation"
   ]
}